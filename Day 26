from collections import defaultdict

def has_cycle(v, edges):
    # build adjacency list
    graph = defaultdict(list)
    for u, w in edges:
        graph[u].append(w)
        graph[w].append(u)   # undirected

    visited = [False] * v

    def dfs(node, parent):
        visited[node] = True
        for nei in graph[node]:
            if not visited[nei]:
                if dfs(nei, node):
                    return True
            elif nei != parent:
                # found a visited neighbor not equal to parent â†’ cycle
                return True
        return False

    # handle disconnected graphs
    for i in range(v):
        if not visited[i]:
            if dfs(i, -1):
                return True
    return False


# Example usage
if __name__ == "__main__":
    V = 5
    edges = [[0, 1], [1, 2], [2, 3], [3, 4], [4, 0]]
    print(has_cycle(V, edges))  # Expected: True
